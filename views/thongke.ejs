<%- include('header'); %>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js">
    </script>
    <script>
        google.charts.load('current', {
            packages: ['corechart']
        });
    </script>
    <div class="col-lg-9">
        <div class="container-fluid">
            <div class="row d-flex justify-content-between mt-3">
                <div class="col-lg-3 text-dark mt-3">
                    <h2>Thống Kê</h2>
                </div>
                <div class="col-lg-3 ">
                    <nav aria-label="breadcrumb ">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Trang Chủ</a></li>
                        </ol>
                    </nav>
                </div>
            </div>
            <div class="row ">
                <!-- <section> -->
                <div class="row mt-3 d-flex justify-content-between offset-1">

                    <div class="col-lg-4">
                        <div class="card report-card bg-primary text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <p class="text-white font-weight-semibold font-14">Bài viết</p>
                                        <h3 class="my-3">

                                        </h3>
                                        <p class="mb-0 text-truncate"><span class=""><i class="mdi mdi-trending-up"></i><span id="sanpham"><%-blogs.length%></span> </span> Bài viết</p>
                                    </div>
                                    <div class="align-self-center"><i class="fa fa-user" style="font-size:22pt;"></i></div>
                                </div>
                            </div>
                            <!--end card-body-->
                        </div>
                        <!--end card-->
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card report-card bg-success text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <p class="text-white font-weight-semibold font-14">Sản Phẩm</p>
                                        <h3 class="my-3">

                                        </h3>
                                        <p class="mb-0 text-truncate"><span class=""><i class="mdi mdi-trending-up"></i><span id="dm"><%-products.length%></span></span> Sản Phẩm</p>
                                    </div>
                                    <div class="align-self-center"><i class="fa fa-clock-o" style="font-size:22pt;"></i></div>
                                </div>
                            </div>
                            <!--end card-body-->
                        </div>
                        <!--end card-->
                    </div>
                    <div class="col-md-6 col-lg-4">
                        <div class="card report-card bg-warning  text-white">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <p class="text-white font-weight-semibold font-14">Tổng Đơn Hàng</p>
                                        <h3 class="my-3">

                                        </h3>
                                        <p class="mb-0 text-truncate"><span class=""><i class="mdi mdi-trending-up"></i><span id="donhang"><%-cart.length%></span> Đơn Hàng Mới</p>
                                    </div>
                                    <div class="align-self-center"><i class="fa fa-dashboard" style="font-size:22pt;"></i></div>
                                </div>
                            </div>
                            <!--end card-body-->
                        </div>
                        <!--end card-->
                    </div>

                </div>
                </section>

            </div>
        </div>
        <div class="row mt-4">
            <div class="col-lg-10">
                <canvas id="columnchart_values" width="600" height="200"></canvas>
            </div>
        </div>
    </div>
    </div>
    </div>
    </main>
    <!-- end main -->
    <div id="mydiv" data-test="<%=dataCart %>"></div>
    <!-- end main -->
    <!-- start footer -->
    <footer></footer>
    <!-- end footer -->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script> -->
    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->


    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" type="text/javascript"></script>
    <script>
        var dulieu = JSON.parse(document.getElementById('mydiv').dataset.test);
        var labels = dulieu.map(v => v.name);
        var data = dulieu.map(v => v.price)
        var ctx = document.getElementById('columnchart_values').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',

            data: {
                labels: labels,
                datasets: [{
                    label: 'Thống kê doanh thu',
                    data: data,
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            }
        });
    </script>
    </body>

    </html>